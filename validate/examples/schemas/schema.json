{
  "schemas": [
    {
      "name": "rides",
      "topic": {
        "name": "movr.public.rides",
        "numPartitions": 1,
        "replicationFactor": 3,
        "config": [
          {
            "key": "max.message.bytes",
            "value": "128000"
          }
        ]
      },
      "sql": {
        "type": "plain",
        "query": "SELECT * FROM rides"
      },
      "elasticsearch": {
        "index": "rides",
        "mapping": {
          "settings": {
            "index.requests.cache.enable": true,
            "index": {
              "number_of_shards": 3,
              "number_of_replicas": 2
            },
            "analysis": {
              "normalizer": {
                "lowerasciinormalizer": {
                  "type": "custom",
                  "filter": [
                    "lowercase",
                    "asciifolding"
                  ]
                }
              }
            }
          },
          "mappings": {
            "dynamic_templates": [
              {
                "string_as_keyword": {
                  "match_mapping_type": "string",
                  "match": "*",
                  "mapping": {
                    "type": "keyword",
                    "normalizer": "lowerasciinormalizer"
                  }
                }
              }
            ],
            "properties": {
              "id": {
                "type": "keyword"
              },
              "city": {
                "normalizer": "lowerasciinormalizer",
                "type": "keyword"
              },
              "vehicle_city": {
                "normalizer": "lowerasciinormalizer",
                "type": "keyword"
              },
              "rider_id": {
                "type": "keyword"
              },
              "vehicle_id": {
                "type": "keyword"
              },
              "start_address": {
                "normalizer": "lowerasciinormalizer",
                "type": "keyword"
              },
              "end_address": {
                "normalizer": "lowerasciinormalizer",
                "type": "keyword"
              },
              "start_time": {
                "type": "date"
              },
              "end_time": {
                "type": "date"
              },
              "revenue": {
                "type": "float"
              }
            }
          }
        }
      }
    }
  ]
}